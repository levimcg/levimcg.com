# Deploy your production site using rsync

# 1. Make a copy of this script and name it something descriptive like "deploy-prod".
#    You can make multiple copies for staging and live servers, for example.
# 2. Change user@your-domain.com your ftp/ssh user name
# 3. Change "public_html/" to the path you want to deploy your site to on your server
# 4. Run the script at the top of your Jekyll site's directory with "./deploy-prod"


# Build the site before we deploy. Change the config files/options as needed
jekyll build --config _config.yml,_config-prod.yml &&

# Deploy the site via SSH. It would be a good idea to set up automatic ssh access on your server.
rsync -avze ssh --exclude-from=rsync_exclude.txt --progress --delete _site/ user@your-site.com:public_html/

exit 0